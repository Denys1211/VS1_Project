<template name="supplierscard">
  <style>
    .results tr[visible='false'],
    .no-result {
      display: none;
    }

    .results tr[visible='true'] {
      display: table-row;
    }

    .counter {
      padding: 8px;
      color: #ccc;
    }

    .sideSearch {
      overflow-x: hidden;
      overflow-y: hidden;
    }

    .cardB {
      overflow-y: auto;
    }

    .cardB420 {
      max-height: 300px;
      overflow-y: auto;
    }

    .rowB {
      overflow-x: auto;
    }

    .nav-tabs .nav-link.active {
      color: rgb(0, 163, 211) !important;
      background-color: #EDEDED !important;
      border-color: #00a3d3 #00a3d3 #ededed #00a3d3 !important;
    }

    .nav-tabs .nav-link {
      background-color: #fff !important;
      border-color: #00a3d3 !important;
    }

    @media only screen and (max-width: 600px) {
      .sideSearch {
        width: auto;
      }
    }
  </style>
  <style>
    #btnView {
      display: none;
    }

    @media screen and (min-width: 1025px) {
      .viewList {
        display: none;
      }

      .displayList {
        height: 115vh;
      }

      .supplierCardParent {
        height: 100%;
      }

    }

    .currentSelect {
      background-color: #ededed99;
      color: #00a3d3;
    }

    @media screen and (max-width: 450px) {
      .sideSearch {
        height: 400px !important;
        overflow-y: scroll;
      }
    }
  </style>
  <div>
    <div class="fullScreenSpin" style="display:none;">
      <div class="spinner"></div>
    </div>
    {{#if record}}
    <div style="margin: 16px;">
      {{#unless isModal}}
      <div class="row">
        <div class="col-12 col-md-4">
          <h3 class="text-dark mb-0">Supplier Overview Dashboard {{> helpbutton}}</h3>
        </div>
        <div class="col-12 col-md-4">{{> loggedcompanyoverview}}</div>
      </div>
      {{/unless}}
      <div class="row">
        {{#unless isModal}}
        <div class="col-2 displayList" id="displayList">
          <div class="card shadow mb-4 supplierCardParent" style="margin: 8px;">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h6 class="text-primary font-weight-bold m-0">Suppliers</h6>
              <div class="dropdown no-arrow" style="display:none;">
                <button class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false"
                  type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in" role="menu">
                  <p class="text-center dropdown-header">Supplier List</p><a class="dropdown-item" role="presentation"
                    href="/supplierscard">&nbsp;+ New Supplier</a>
                </div>
              </div>
            </div>
            <div class="card-body text-nowrap cardB supplierListCard" id="supplierListCard">
              <div class="sideSearch">
                <div class="row">
                  <div class="col-12" style="display: inline-flex;">
                    <input type="text" class="search form-control txtSearchSupplier" placeholder="Search..."
                      style="width: 80%;">
                    <button class="btn btn-primary btnRefreshSuppliers" type="button" id="btnRefreshSuppliers"
                      style="padding: 4px 10px; font-size: 16px; margin-left: 12px !important;" autocomplete="off"><i
                        class="fas fa-search-plus"></i></button>
                  </div>
                  <span class="counter pull-right"></span>
                  <table id="tblSupplierSideList" name="tblSupplierSideList"
                    class="table table-hover table-bordered results tblSupplierSideList">
                    <thead>
                      <tr>
                        <th>Supplier</th>
                      </tr>
                      <tr class="warning no-result">
                        <td colspan="4"><i class="fa fa-warning"></i> No result</td>
                      </tr>
                    </thead>
                    <tbody>
                      {{#if supplierrecords}}
                      {{#each item in supplierrecords}}
                      <tr id="{{item.id}}" style=" cursor: pointer;">
                        <td data-toggle="tooltip" data-bs-tooltip="" data-placement="bottom" title="{{item.company}}"
                          id="{{item.id}}" class="{{item.classname}}">{{item.company}}</td>
                      </tr>
                      {{/each}}
                      {{/if}}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        {{/unless}}
        <div class="{{#if isModal}}{{else}}col-10{{/if}} displayInfo" id="displayInfo" style="width: 100%;">
          {{#unless isModal}}
          <!-- All Cards List -->
          {{> editCardChartButtons}}
          {{> allCardsLists tabGroupID="8" chartGroup="PaymentOverviewSupplier"}}
          {{/unless}}
          <div class="card shadow mb-4 cardSizing">
            {{> vs1_contact_card_header isJob=isJob record=record id="supplierInfo"}}
            {{> customfieldDroppop}}
            {{> customfieldpop}}

            <div class="modal fade" role="dialog" tabindex="-1" id="customfieldModal">
              <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4>Field Settings</h4><button type="button" class="close" data-dismiss="modal"
                      aria-label="Close"><span aria-hidden="true">ï¿½</span></button>
                  </div>
                  <div class="modal-body">
                    <div>
                      <form class="d-xl-flex align-items-xl-center">
                        <div class="flex-grow-1">
                          <div class="custom-control custom-switch" style="margin: 8px;">
                            <input class="custom-control-input" type="checkbox" id="formCheck-one" value="one" checked>
                            {{#if contactCloudPreferenceRec}}
                            {{#if equals contactCloudPreferenceRec.customFields.[0].hidden false}}
                            <script>
                              $('#formCheck-one').attr("checked", "checked");
                            </script>
                            {{else}}
                            <script>
                              $('#formCheck-one').removeAttr("checked");
                            </script>
                            {{/if}}
                            {{/if}}
                            <label class="custom-control-label" style="position: absolute;" for="formCheck-one"></label>
                            <div contenteditable="true" class="groove customField1Text">{{#if
                              contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[0].label}}{{else}}Custom
                              Field 1{{/if}}</div>
                          </div>

                          <div class="custom-control custom-switch" style="margin: 8px;">
                            <input class="custom-control-input" type="checkbox" id="formCheck-two" value="two" checked>
                            {{#if contactCloudPreferenceRec}}
                            {{#if equals contactCloudPreferenceRec.customFields.[1].hidden false}}
                            <script>
                              $('#formCheck-two').attr("checked", "checked");
                            </script>
                            {{else}}
                            <script>
                              $('#formCheck-two').removeAttr("checked");
                            </script>
                            {{/if}}
                            {{/if}}
                            <label class="custom-control-label" style="position: absolute;" for="formCheck-two"></label>
                            <div contenteditable="true" class="groove customField2Text">{{#if
                              contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[1].label}}{{else}}Custom
                              Field 2{{/if}}</div>
                          </div>

                          <div class="custom-control custom-switch" style="margin: 8px;">
                            <input class="custom-control-input" type="checkbox" id="formCheck-three" value="three"
                              checked>
                            {{#if contactCloudPreferenceRec}}
                            {{#if equals contactCloudPreferenceRec.customFields.[2].hidden false}}
                            <script>
                              $('#formCheck-three').attr("checked", "checked");
                            </script>
                            {{else}}
                            <script>
                              $('#formCheck-three').removeAttr("checked");
                            </script>
                            {{/if}}
                            {{/if}}
                            <label class="custom-control-label" style="position: absolute;"
                              for="formCheck-three"></label>
                            <div contenteditable="true" class="groove customField3Text">{{#if
                              contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[2].label}}{{else}}Custom
                              Field 3{{/if}}</div>
                          </div>

                          <div class="custom-control custom-switch" style="margin: 8px;">
                            <input class="custom-control-input" type="checkbox" id="formCheck-four" value="four"
                              checked>
                            {{#if contactCloudPreferenceRec}}
                            {{#if equals contactCloudPreferenceRec.customFields.[3].hidden false}}
                            <script>
                              $('#formCheck-four').attr("checked", "checked");
                            </script>
                            {{else}}
                            <script>
                              $('#formCheck-four').removeAttr("checked");
                            </script>
                            {{/if}}
                            {{/if}}
                            <label class="custom-control-label" style="position: absolute;"
                              for="formCheck-four"></label>
                            <div contenteditable="true" class="groove customField4Text">{{#if
                              contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[3].label}}{{else}}Custom
                              Field 4{{/if}}</div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-success btnSaveSettings" type="button"><i class="fa fa-save"
                        style="margin-right: 5px;"></i>Save</button>
                    <button class="btn btn-warning btnResetSettings" data-dismiss="modal" type="reset"><i
                        class="fa fa-repeat" style="margin-right: 5px;"></i>Reset</button>
                    <button class="btn btn-secondary" data-dismiss="modal" type="button"><i class="fa fa-remove"
                        style="margin-right: 5px;"></i>Close</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- END  -->

            <div class="card-body text-nowrap">
              <div>
                <ul class="nav nav-tabs nav-fill">
                  <li class="nav-item" style="cursor: pointer;"><a class="nav-link active supplierTab" role="tab"
                      data-toggle="tab" data-target="#tab-2">Supplier Details</a></li>
                  <li class="nav-item" style="cursor: pointer;"><a class="nav-link transTab" role="tab"
                      data-toggle="tab" data-target="#tab-1">Transaction List</a></li>
                </ul>
                <div class="tab-content">
                  <style>
                    .table-responsive {
                      overflow-x: auto;
                    }

                    @media only screen and (max-width: 1920px) {
                      .tab-1 {
                        width: 100%;
                      }

                      .tab-2 {
                        width: 100%;
                      }
                    }

                    @media only screen and (max-width: 1600px) {
                      .tab-1 {
                        width: 100%;
                      }

                      .tab-2 {
                        width: 100%;
                      }
                    }

                    @media only screen and (max-width: 1536px) {
                      .tab-1 {
                        width: 100%;
                      }

                      .tab-2 {
                        width: 100%;
                      }
                    }

                    @media only screen and (max-width: 1367px) {
                      .tab-1 {
                        width: 100%;
                      }

                      .tab-2 {
                        width: 100%;
                      }
                    }
                  </style>
                  <div class="tab-pane active border rounded-0 tab-2" role="tabpanel" id="tab-2"
                    style="background-color: #ededed; border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">

                    <div class="row no-gutters" style="padding: 8px;">
                      <div class="col-12 col-md-4" style="padding: 0px 8px;">
                        <div class="form-group">
                          <label>Supplier Name</label>
                          <input type="text" class="form-control" id="edtSupplierCompany" name="edtSupplierCompany"
                            value="{{record.company}}">
                        </div>
                      </div>
                      <div class="col-12 col-md-4" style="padding: 0px 8px;">
                        <div class="form-group">
                          <label>Supplier Email</label>
                          <input type="text" class="form-control" id="edtSupplierCompanyEmail"
                            name="edtSupplierCompanyEmail" value="{{record.email}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-4" style="padding: 0px 8px;">
                        <div class="form-group">
                            {{>vs1___dropdown
                                    data=record.title
                                    type='search'
                                    id='editSupplierTitle'
                                    name='editSupplierTitle'
                                    modalId= 'titlePopModal'
                                    list_template_name='title_list_pop'
                                    modal_title='Title'
                                    innerModal=true
                                    label = 'Title'
                                    colNameForValue = 'colTitleName'
                                    is_editable=true
                                    noBorder=false
                            }}
                        </div>
                      </div>
                      <div class="col-6 col-md-3" style="padding: 0px 8px;">
                        <div class="form-group">
                          <label class="text-nowrap">First Name</label>
                          <input type="text" class="form-control" id="edtSupplierFirstName" name="edtSupplierFirstName"
                            value="{{record.firstname}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-3">
                        <div class="form-group" style="padding: 0px 8px;">
                          <label class="text-nowrap">Middle Name</label>
                          <input type="text" class="form-control" id="edtSupplierMiddleName"
                            name="edtSupplierMiddleName" value="{{record.middlename}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-3">
                        <div class="form-group" style="padding: 0px 8px;">
                          <label class="text-nowrap">Last Name</label>
                          <input type="text" class="form-control" id="edtSupplierLastName" name="edtSupplierLastName"
                            value="{{record.lastname}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-3">
                        <div class="custom-control custom-switch chkSamePrimary"
                          style="padding: 0px 8px; margin-top: 38px; padding-left: 2.25rem;">
                          <input class="custom-control-input" type="checkbox" id="chkSameAsPrimary"
                            style=" cursor: pointer;" checked="{{#if record.isprimary}}checked{{/if}}">
                          <label class="custom-control-label" for="chkSameAsPrimary" style=" cursor: pointer;">Is Primary Accountant</label>
                        </div>
                      </div>
                      <div class="row no-gutters col-12">
                        <div class="col-6 col-md">
                          <div class="form-group" style="padding: 0px 8px;">
                            <label class="text-nowrap">Phone</label>
                            <input type="text" class="form-control" id="edtSupplierPhone" name="edtSupplierPhone"
                              value="{{record.phone}}">
                          </div>
                        </div>
                        <div class="col-6 col-md">
                          <div class="form-group" style="padding: 0px 8px;">
                            <label class="text-nowrap">Mobile</label>
                            <input type="text" class="form-control" id="edtSupplierMobile" name="edtSupplierMobile"
                              value="{{record.mobile}}">
                          </div>
                        </div>
                        <div class="col-6 col-md">
                          <div class="form-group" style="padding: 0px 8px;">
                            <label class="text-nowrap">Fax</label>
                            <input type="text" class="form-control" id="edtSupplierFax" name="edtSupplierFax"
                              value="{{record.fax}}">
                          </div>
                        </div>
                        <div class="col-6 col-md-2 invisible active-password-wrapper">
                          <div class="form-group" style="padding: 0px 8px;">
                            <label class="text-nowrap">Password</label>
                            <span data-toggle="#edtActivePrimaryPassword"
                              class="fa fa-fw fa-eye field-icon toggle-password"
                              style="color: #00a3d3; margin-top: 42px; margin-left: 4px;"></span>
                            <input type="password" class="form-control" id="edtActivePrimaryPassword" name="edtActivePrimaryPassword" style="width: calc(100% - 40px);">
                          </div>
                        </div>
                      </div>
                      <div class="col-6 col-md-5">
                        <div class="form-group" style="padding: 0px 8px;">
                          <label class="text-nowrap">Skype ID</label>
                          <input type="text" class="form-control" id="edtSupplierSkypeID" name="edtSupplierSkypeID"
                            value="{{record.skype}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-5">
                        <div class="form-group" style="padding: 0px 8px;">
                          <label class="text-nowrap">Website</label>
                          <input type="text" class="form-control" id="edtSupplierWebsite" name="edtSupplierWebsite"
                            value="{{record.website}}">
                        </div>
                      </div>
                      <div class="col-6 col-md-2">
                        <div class="custom-control custom-switch chkSameCustomer"
                          style="padding: 0px 8px; margin-top: 38px; padding-left: 2.25rem;">
                          <input class="custom-control-input" type="checkbox" id="chkSameAsCustomer"
                            style=" cursor: pointer;" checked="{{#if record.iscustomer}}checked{{/if}}">
                          <label class="custom-control-label" for="chkSameAsCustomer" style=" cursor: pointer;">Is Also
                            Customer</label>
                        </div>
                      </div>
                      <div class="col-6 col-md-4">
                        <div class="form-group" style="padding: 0px 8px;">
                          <div class="one box checkbox1div"
                            style="{{#if salesCloudPreferenceRec}}{{#if equals salesCloudPreferenceRec.customFields.[0].hidden false}}display:block{{else}}display:none{{/if}}{{else}}display:none{{/if}}">
                            <div class="form-group">
                              <label class="lblCustomField1">{{custfields.[0].custfieldlabel}}</label>
                              <input class="form-control form-control" type="text" id="edtSaleCustField1"
                                name="edtSaleCustField1" value="{{invoicerecord.saleCustField1}}" custfieldid=''>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-6 col-md-4">
                        <div class="form-group" style="padding: 0px 8px;">
                          <div class="two box checkbox2div"
                            style="{{#if salesCloudPreferenceRec}}{{#if equals salesCloudPreferenceRec.customFields.[1].hidden false}}display:block{{else}}display:none{{/if}}{{else}}display:none{{/if}}">
                            <div class="form-group">
                              <label class="lblCustomField2">{{custfields.[1].custfieldlabel}}<br></label>
                              <input class="form-control form-control" type="text" id="edtSaleCustField2"
                                name="edtSaleCustField2" value="{{invoicerecord.saleCustField2}}" custfieldid=''>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-6 col-md-4">
                        <div class="form-group" style="padding: 0px 8px;">
                          <div class="two box checkbox3div"
                            style="{{#if salesCloudPreferenceRec}}{{#if equals salesCloudPreferenceRec.customFields.[1].hidden false}}display:block{{else}}display:none{{/if}}{{else}}display:none{{/if}}">
                            <div class="form-group">
                              <label class="lblCustomField2">{{custfields.[2].custfieldlabel}}<br></label>
                              <input class="form-control form-control" type="text" id="edtSaleCustField3"
                                name="edtSaleCustField3" value="{{invoicerecord.saleCustField3}}" custfieldid=''>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="row d-xl-flex flex-column justify-content-xl-center" style="margin: 12px;">

                      <div class="col" style="padding: 4px;margin-top: 16px;">
                        <div>
                          <ul class="nav nav-tabs nav-justified">
                            <li class="nav-item" style="cursor: pointer;"><a class="nav-link active crmTab" role="tab"
                                data-toggle="tab" data-target="#tab-crm">CRM</a></li>
                            <li class="nav-item" style="cursor: pointer;"><a class="nav-link" role="tab"
                                data-toggle="tab" data-target="#tab-4">Address</a></li>
                            <li class="nav-item" style="cursor: pointer;"><a class="nav-link" role="tab"
                                data-toggle="tab" data-target="#tab-5">Notes</a></li>
                            <li class="nav-item" style="cursor: pointer;"><a class="nav-link bilingTab" role="tab"
                                data-toggle="tab" data-target="#tab-6">Billing</a></li>
                            {{#if record.iscustomer}}
                            <!-- <li class="nav-item" style="cursor: pointer;"><a class="nav-link bilingTab" role="tab"
                                data-toggle="tab" data-target="#tab-11">Invoicing</a></li> -->
                            {{/if}}
                            <li class="nav-item attachmentTab" style="cursor: pointer;"><a class="nav-link" role="tab"
                                data-toggle="tab" data-target="#tab-8">{{#if attachmentCount}}<span
                                  id="attachment-count">{{attachmentCount}}</span>{{/if}} Attachments</a></li>
                            <li class="nav-item" style="cursor: pointer;"><a class="nav-link" role="tab"
                                data-toggle="tab" data-target="#tab-9">Custom Fields</a></li>
                            <li class="nav-item d-none vs1-login-nav" style="cursor: pointer;"><a class="vs1-login-nav-link nav-link" role="tab"
                                data-toggle="tab" data-target="#tab-11">VS1 User Login</a></li>
                          </ul>
                          <div class="tab-content">
                            <div class="tab-pane border rounded-0 tab-crm active" role="tabpanel" id="tab-crm"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;padding: 20px;">
                                <div class="col d-xl-flex justify-content-xl-end align-items-xl-start">
                                    {{> export_import_print_display_button Import="hiddenButton" tablename="tblSupplierCrmListWithDate"}}
                                </div>
<!--                              {{> non_transactional_list tablename="tblSupplierCrmListWithDate"}}-->
                                {{>datatablelist
                                        tablename="tblSupplierCrmListWithDate"
                                        tableclass="tblSupplierCrmListWithDate"
                                        apiName= apiFunction
                                        indexeddbname = 'TCRMSupplierTaskList'
                                        tableheaderrecords = tableheaderrecords
                                        exportfilename = 'Supplier CRM List'
                                        istransaction = true
                                        apiParams= apiParams
                                        datahandler = datahandler
                                        service=service
                                        lowercaseDataName='tprojecttaskslist'
                                        exIndexDBName = 'tprojecttaskslist'
                                        exdatahandler = exDataHandler
                                        searchAPI = searchAPI
                                        showPlusButtonCRM = true
                                }}
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-4"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row no-gutters flex-column" style="margin: 12px;">
                                <div class="col">
                                  <div class="row no-gutters">
                                    <h4 style="margin: 4px;">Shipping&nbsp;Address</h4>
                                  </div>
                                  <div class="row" style="margin: 4px 12px;">
                                    <div class="col-12 col-md-6" style="padding: 0px;">
                                      <div
                                        class="form-group d-flex d-sm-flex d-xl-flex flex-column flex-grow-1 align-items-start align-items-sm-start align-items-xl-start"
                                        style="margin: 4px;">
                                        <label>Street Address</label>
                                        <textarea class="border rounded flex-grow-1" style="width: 100%;height: 116px;"
                                          rows="4" id="edtSupplierShippingAddress" name="edtSupplierShippingAddress"
                                          value="{{record.shippingaddress}}"></textarea>
                                      </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                      <div class="row">
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>City / Town</label>
                                            <input type="text" class="form-control" id="edtSupplierShippingCity"
                                              name="edtSupplierShippingCity" value="{{record.scity}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>State / Region</label>
                                            <input type="text" class="form-control" id="edtSupplierShippingState"
                                              name="edtSupplierShippingState" value="{{record.sstate}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>ZIP Code</label>
                                            <input type="text" class="form-control" id="edtSupplierShippingZIP"
                                              name="edtSupplierShippingZIP" value="{{record.spostalcode}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                              {{>vs1___dropdown
                                                      data=record.scountry
                                                      type='search'
                                                      id='sedtCountry'
                                                      name='sedtCountry'
                                                      modalId= 'countryPopModal'
                                                      list_template_name='CountryModal'
                                                      modal_title='Country'
                                                      innerModal=true
                                                      label = 'Country'
                                                      colNameForValue = 'colCountry'
                                                      is_editable=true
                                                      noBorder=false
                                              }}
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <style>
                                  .billingaddress {
                                    display: none;
                                  }
                                </style>
                                <script>
                                  function myFunction() {
                                    const checkBox = document.getElementById("chkSameAsShipping");
                                    const billingAddress = document.getElementById("billingaddress");
                                    if (checkBox.checked == true) {
                                      billingAddress.style.display = "none";
                                    } else {
                                      billingAddress.style.display = "flex";
                                    }
                                  }
                                </script>
                                <div class="col">
                                  <div class="row no-gutters" style="margin-top: 12px;">
                                    <div class="col d-xl-flex align-items-start" style="padding: 0px;">
                                      <h4 class="flex-grow" style="margin: 4px;">Billing Address</h4>
                                      <div class="custom-control custom-switch chkaddress" style="margin: 8px;">
                                        <input class="custom-control-input" type="checkbox" id="chkSameAsShipping"
                                          onclick="myFunction()" style=" cursor: pointer;" checked>
                                        <label class="custom-control-label" for="chkSameAsShipping"
                                          style=" cursor: pointer;">Same as Shipping</label>
                                      </div>
                                    </div>
                                    {{#if equals isSameAddress true}}
                                    <script>
                                      $('#chkSameAsShipping').attr("checked", "checked");
                                      $('#billingaddress').css("display", "none");
                                    </script>
                                    {{else}}
                                    <script>
                                      $('#chkSameAsShipping').removeAttr("checked");
                                      $('#billingaddress').css("display", "flex");
                                    </script>
                                    {{/if}}

                                  </div>
                                  <div class="row billingaddress" id="billingaddress" style="margin: 4px 12px;">
                                    <div class="col" style="padding: 0px;">
                                      <div
                                        class="form-group d-flex d-sm-flex d-xl-flex flex-column flex-grow-1 align-items-start align-items-sm-start align-items-xl-start"
                                        style="margin: 4px;">
                                        <label>Street Address</label>
                                        <textarea class="border rounded flex-grow-1" style="width: 100%;height: 116px;"
                                          rows="4" id="edtSupplierBillingAddress" name="edtSupplierBillingAddress"
                                          value="{{record.billingaddress}}"></textarea>
                                      </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                      <div class="row">
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>City / Town</label>
                                            <input type="text" class="form-control" id="edtSupplierBillingCity"
                                              name="edtSupplierBillingCity" value="{{record.bcity}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>State / Region</label>
                                            <input type="text" class="form-control" id="edtSupplierBillingState"
                                              name="edtSupplierBillingState" value="{{record.bstate}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                            <label>ZIP Code</label>
                                            <input type="text" class="form-control" id="edtSupplierBillingZIP"
                                              name="edtSupplierBillingZIP" value="{{record.bpostalcode}}">
                                          </div>
                                        </div>
                                        <div class="col-6" style="padding: 0px;">
                                          <div class="form-group" style="margin: 4px;">
                                              {{>vs1___dropdown
                                                      data=record.bcountry
                                                      type='search'
                                                      id='bcountry'
                                                      name='bcountry'
                                                      modalId= 'countryPopModalb'
                                                      list_template_name='CountryModal'
                                                      modal_title='Country'
                                                      innerModal=true
                                                      label = 'Country'
                                                      colNameForValue = 'colCountry'
                                                      is_editable=true
                                                      noBorder=false
                                                      custid='_b'
                                              }}
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-5"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row no-gutters" style="margin: 12px;">
                                <div class="col">
                                  <div
                                    class="form-group d-flex d-sm-flex d-xl-flex flex-column flex-grow-1 align-items-start align-items-sm-start align-items-xl-start"
                                    style="margin: 4px;"><label>Notes</label>
                                    <textarea class="border rounded flex-grow-1" style="width: 100%;height: 116px;"
                                      rows="4" id="txaNotes" name="txaNotes">{{record.notes}}</textarea>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-6"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">

                              <div class="row" style="margin: 6px;">
                                <div class="col-12 col-md-12">
                                  <div class="row">
                                    <div class="col-md-3">
                                      <div class="form-group d-xl-flex flex-column justify-content-xl-start"
                                        style="margin: 4px;">
                                          {{>vs1___dropdown
                                                  data=record.terms
                                                  type='search'
                                                  id='sltTerms_addsup'
                                                  name='sltTerms'
                                                  modalId= 'termPopModal'
                                                  list_template_name='termlistpop'
                                                  modal_title='Terms'
                                                  innerModal=true
                                                  label = 'Terms'
                                                  colNameForValue = 'colName'
                                                  is_editable=true
                                                  noBorder=false
                                          }}
                                      </div>
                                    </div>
                                    <div class="col-md-3">
                                      <div class="form-group d-xl-flex flex-column align-items-xl-start"
                                        style="margin: 4px;">
                                          {{>vs1___dropdown
                                                  data=''
                                                  type='search'
                                                  id='sltPreferredPayment_addsup'
                                                  name='sltPreferredPayment'
                                                  modalId= 'preferredPaymentPopModal'
                                                  list_template_name='paymentmethodpop'
                                                  modal_title='Preferred Payment Method'
                                                  innerModal=true
                                                  label = 'Preferred Payment Method'
                                                  colNameForValue = 'colName'
                                                  is_editable=true
                                                  noBorder=false
                                          }}
                                      </div>
                                    </div>
                                    <div class="col-md-3">
                                      <div class="form-group" style="margin: 4px;"><label
                                          class="text-nowrap d-xl-flex flex-column justify-content-xl-start align-items-xl-start">Account
                                          No</label>
                                        <input type="text" class="form-control" id="suppAccountNo" name="suppAccountNo"
                                          value="{{record.accountnumber}}">
                                      </div>
                                    </div>
                                    <div class="col-md-3">
                                      <div class="row justify-content-left desktopButtons" style=" margin-left:0px;">
                                        {{#if equals record.scountry "Unite States"}}
                                        {{> toggle_button className="chkGlobalSettings" id="contactor-1099"
                                        width="131px" for="choosetemplate" displayName="Contractor 1099"}}
                                        {{else}}
                                        {{/if}}
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <div class="row mb-4" style="margin: 6px;">
                                <div class="col-12 mt-2">
                                  <h4 style="margin-left: 4px;">Banking Details</h4>
                                </div>
                                <div class="col-6 col-md-3">
                                  <div class="form-group" style="margin: 4px;">
                                      {{>vs1___dropdown
                                              data=''
                                              type='search'
                                              id='edtBankName'
                                              name='edtBankName'
                                              modalId= 'bankNameModal'
                                              list_template_name='bankNameModal'
                                              modal_title='Bank Name'
                                              innerModal=true
                                              label = 'Bank Name'
                                              colNameForValue = 'colBankName'
                                              is_editable=true
                                              noBorder=false
                                      }}
                                  </div>
                                </div>
                                <div class="col-6 col-md-3">
                                  <div class="form-group" style="margin: 4px;">
                                    <label>Bank Account Name</label>
                                    <input type="text" class="form-control" id="edtBankAccountName"
                                      name="edtBankAccountName" value="{{record.bankAccountName}}">
                                  </div>
                                </div>
                                <div class="col-6 col-md-3">
                                  <div class="form-group" style="margin: 4px;">
                                    <label>BSB</label>
                                    <input type="text" class="form-control" id="edtBsb" name="edtBsb"
                                      value="{{record.bankAccountBSB}}">
                                  </div>
                                </div>
                                <div class="col-6 col-md-3">
                                  <div class="form-group" style="margin: 4px;">
                                    <label>Bank Account Number</label>
                                    <input type="text" class="form-control" id="edtBankAccountNumber"
                                      name="edtBankAccountNumber" value="{{record.bankAccountNo}}">
                                  </div>
                                </div>
                                <div class="col-6 col-md-4">
                                  <div class="form-group" style="margin: 4px;">
                                    <label>Swift Code</label>
                                    <input type="text" class="form-control" id="edtSwiftCode" name="edtSwiftCode"
                                      value="{{record.bankAccountNo}}">
                                  </div>
                                </div>
                                <div class="col-6 col-md-4">
                                  <div class="form-group" style="margin: 4px;">
                                    <label>Routing Number</label>
                                    <input type="text" class="form-control" id="edtRoutingNumber"
                                      name="edtRoutingNumber" value="{{record.routingNumber}}">
                                  </div>
                                </div>

                                <div class="col-6 col-md-4" data-toggle="tooltip" title="Selection required for Foreign Suppliers only" data-placement="bottom">
                                  {{> CurrencyWidget onlyCurrencyField="true" CurrentForeignExchangeCode =
                                  record.foreignExchangeCode}}
                                </div>

                              </div>
                            </div>
                            <!--
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-11"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row" style="margin: 12px;">
                                <div class="col-md-2 col-6" style="padding: 0;">
                                  <div class="form-group d-xl-flex flex-column justify-content-xl-start"
                                    style="margin: 4px;padding-right:4px;"><label class="text-nowrap">Customer
                                      Type</label>

                                    <select type="search" class="form-control" id="sltCustomerType"
                                      name="sltCustomerType" value="{{record.clienttype}}"
                                      style="background-color:rgb(255, 255, 255); cursor: pointer;">
                                    </select>

                                  </div>
                                </div>
                                <div class="col-md-2 col-6" style="padding: 0;">
                                  <div class="form-group" style="margin: 4px;padding-left:4px;">
                                    <label>Terms</label>
                                    <select type="search" class="form-control" id="sltTerms" name="sltTerms"
                                      value="{{record.terms}}"
                                      style="background-color:rgb(255, 255, 255); cursor: pointer;">
                                    </select>
                                  </div>
                                </div>

                                <div class="col-md-2 col-6" style="padding: 0;">
                                  <div class="form-group d-xl-flex flex-column justify-content-xl-start"
                                    style="margin: 4px;padding-left:4px;"><label class="text-nowrap">% Discount</label>
                                    <input type="text" class="form-control pointer" id="edtCustomerCardDiscount"
                                      name="edtCustomerCardDiscount" value="{{record.discount}}">
                                  </div>
                                </div>
                                <div class="col-md-2 col-6" style="padding: 0;">
                                  <div class="form-group d-xl-flex flex-column justify-content-xl-start"
                                    style="margin: 4px;padding-left:4px;"><label class="text-nowrap">Credit
                                      Limit</label>
                                    <input type="text" class="form-control pointer" id="edtCustomerCardDiscount"
                                      name="edtCustomerCardDiscount" value="{{record.discount}}">
                                  </div>
                                </div>
                                <div class="col-md-2 col-6" style="padding: 0; margin: 4px;margin-top: 41px;">
                                  {{> toggle_button className="chkGlobalSettings" id="customer_stop_credit_toggle"
                                  width="131px" for="customer_stop_credit_toggle" displayName="Stop Credit"}}
                                </div>

                              </div>
                            </div>
                            -->
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-7"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <p>Tab content.</p>
                              <div class="form-group d-xl-flex flex-column flex-grow-1 align-items-xl-start"
                                style="margin: 4px;"><label>Street Address</label><textarea
                                  class="border rounded flex-grow-1" style="width: 100%;height: 116px;"
                                  rows="4"></textarea></div>
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-8"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row no-gutters" style="margin: 12px;">
                                <div class="col">
                                  <style>
                                    .file-name span {
                                      width: 100%;
                                      float: left;
                                    }

                                    .uploaded-on {
                                      display: none !important;
                                    }

                                    #file-display .fileIocns i.fa.fa-file {
                                      color: rgb(252, 181, 38);
                                      font-size: 24px;
                                    }

                                    #file-display {
                                      padding: 0;
                                      margin: 0;
                                    }

                                    .uploaded-element {
                                      display: inherit;
                                    }

                                    .uploaded-element {

                                      border: 1px solid rgb(237, 237, 237);
                                      border-top: none;

                                      /* float: left; */
                                      width: 100%;
                                      display: flex;
                                      align-items: center;
                                      padding: 1rem;
                                    }

                                    #file-display .fileIocns {
                                      background-image: url(img/file_icons-samall.png);
                                      background-repeat: no-repeat;
                                      background-position: 0 -105px;
                                    }

                                    #file-display .fileIocns {
                                      float: left;
                                      margin-right: 10px;
                                    }

                                    .file-name {
                                      float: left;
                                      width: 87%;
                                    }

                                    .uploaded-element-header {
                                      border: 1px solid rgb(237, 237, 237);
                                      border-top: none;
                                      float: left;
                                      width: 100%;
                                      display: flex;
                                      align-items: center;
                                      padding: 10px;
                                      background: #e3e6f0;
                                    }

                                    .uploaded-header {
                                      width: 100%;
                                      text-align: center;
                                    }

                                    .uploaded-element .confirm-action a.confirm-delete-attachment {
                                      padding: 6px 13px 5px;
                                      background-color: rgb(216, 68, 68) !important;
                                      border-color: rgb(197, 112, 119) rgb(169, 29, 29) rgb(169, 29, 29) rgb(197, 112, 119);
                                      color: rgb(255, 255, 255) !important;
                                      text-shadow: 1px 1px 1px rgba(30, 30, 30, 0.15);
                                      line-height: initial;
                                      font-size: 12px;
                                      float: left;
                                    }

                                    button.save-to-library {
                                      padding: 6px 13px 5px;
                                      border-radius: 4px;
                                      background: linear-gradient(rgb(255, 255, 255), rgb(230, 234, 236));
                                      border: 1px solid rgb(230, 230, 230);
                                      border-color: rgb(230, 230, 230) rgb(179, 179, 179) rgb(179, 179, 179) rgb(230, 230, 230) !important;
                                      color: rgb(204, 0, 0) !important;
                                      font-weight: bold;
                                      margin-left: 10px !important;
                                      font-size: 12px;
                                    }

                                    .uploaded-element {
                                      display: inherit;
                                    }

                                    /* HERE */
                                    #files_view .modal-title {
                                      white-space: nowrap;
                                      overflow: hidden;
                                      text-overflow: ellipsis;
                                      width: 70%;
                                    }

                                    #files_view .modal-title {
                                      color: #333;
                                      font-size: 18px;
                                      font-weight: 700;
                                      text-rendering: optimizelegibility;
                                      padding: 9px 0;
                                      padding-left: 15px;
                                      padding-top: 11px;
                                    }

                                    #files_view .modal-dialog {
                                      width: 750px;
                                      margin: 30px auto;
                                    }

                                    #files_view .modal-header .close {
                                      margin-top: 0;
                                      width: 46px;
                                      height: 46px;
                                      padding: 6px 0 0;
                                      border-left: 1px solid #ddd;
                                      opacity: 1;
                                      margin: 0;
                                    }

                                    #files_view .modal-header {
                                      padding: 0;
                                      display: block;
                                    }

                                    #files_view .modal-body {
                                      background-color: rgb(250, 251, 251);
                                    }

                                    #files_view .image-previewer img {
                                      border: 3px solid #fff;
                                      box-shadow: 2px 2px 8px rgba(0, 0, 0, .2);
                                      width: 100%;
                                    }

                                    .download_button {
                                      width: 100%;
                                      text-align: center;
                                      margin-top: 20px;
                                    }
                                  </style>
                                  <!-- Start Attachemt -->
                                  <div class="divTable" id="file-display">
                                    <div class="col inboxcol1">
                                      <img src="/icons/nofiles_icon.png" class="">
                                    </div>
                                    <div class="col inboxcol2">
                                      <div>Upload files or add files from the file library</div>
                                      <p style="color: #ababab;">Only users with access to your company can view these
                                        files</p>
                                    </div>
                                  </div>

                                  <input type="file" id="attachment-upload" style="display:none" multiple
                                    accept=".jpg,.gif,.png,.bmp,.tiff,.pdf,.doc,.docx,.xls,.xlsx,.ppt,
                                          .pptx,.odf,.csv,.txt,.rtf,.eml,.msg,.ods,.odt,.keynote,.key,.pages-tef,
                                          .pages,.numbers-tef,.numbers,.zip,.rar,.zipx,.xzip,.7z,image/jpeg,
                                          image/gif,image/png,image/bmp,image/tiff,application/pdf,
                                          application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,
                                          application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,
                                          application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,
                                          application/vnd.oasis.opendocument.formula,text/csv,text/plain,text/rtf,message/rfc822,
                                          application/vnd.ms-outlook,application/vnd.oasis.opendocument.spreadsheet,
                                          application/vnd.oasis.opendocument.text,application/x-iwork-keynote-sffkey,
                                          application/vnd.apple.keynote,application/x-iwork-pages-sffpages,
                                          application/vnd.apple.pages,application/x-iwork-numbers-sffnumbers,
                                          application/vnd.apple.numbers,application/zip,application/rar,
                                          application/x-zip-compressed,application/x-zip,application/x-7z-compressed">
                                  <button class="btn btn-primary btnUploadFile new_attachment_btn" type="button"
                                    style="margin: 4px;"><i class="fa fa-cloud-upload"
                                      style="margin-right: 5px;"></i>Upload</button>
                                  <!-- END Attachments -->
                                </div>
                              </div>
                            </div>

                            <!-- View File Attachemt -->
                            <div id="files_view" class="modal fade" role="dialog">
                              <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">x</button>
                                    <h4 class="modal-title">{{uploadedFile.name}}</h4>
                                  </div>
                                  <div class="modal-body">
                                    {{#if uploadedFile.image}}
                                    <div class="image-previewer">
                                      <img src="{{uploadedFile.link}}">
                                    </div>
                                    {{else}}
                                    <div class=" default-file {{uploadedFile.class}}">

                                    </div>
                                    {{/if}}
                                    <div class="download_button">
                                      <a class="new_create_btn btn btn-primary" id="downloadButton"
                                        download="{{uploadedFile.name}}" href="{{uploadedFile.link}}">Download</a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End View File attachment -->

                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-9"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row no-gutters" style="margin: 12px;">
                                <div class="col d-xl-flex align-items-xl-center">
                                  <div class="form-group flex-grow-1 checkbox1div" style="margin: 4px;">
                                    <label class="lblCustomField1">{{#if
                                      contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[0].label}}{{else}}Custom
                                      Field 1{{/if}}</label>
                                    <input type="text" class="form-control" id="edtCustomeField1"
                                      name="edtCustomeField1" value="{{record.custfield1}}">
                                  </div>
                                  <div class="form-group flex-grow-1 checkbox2div" style="margin: 4px;">
                                    <label class="lblCustomField2">{{#if
                                      contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[1].label}}{{else}}Custom
                                      Field 2{{/if}}</label>
                                    <input type="text" class="form-control" id="edtCustomeField2"
                                      name="edtCustomeField2" value="{{record.custfield2}}">
                                  </div>
                                  <div class="form-group flex-grow-1 checkbox3div" style="margin: 4px;">
                                    <label class="lblCustomField3">{{#if
                                      contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[2].label}}{{else}}Custom
                                      Field 3{{/if}}</label>
                                    <input type="text" class="form-control" id="edtCustomeField3"
                                      name="edtCustomeField3" value="{{record.custfield3}}">
                                  </div>
                                  <div class="form-group flex-grow-1 checkbox4div" style="margin: 4px;">
                                    <label class="lblCustomField4">{{#if
                                      contactCloudPreferenceRec}}{{contactCloudPreferenceRec.customFields.[3].label}}{{else}}Custom
                                      Field 4{{/if}}</label>
                                    <input type="text" class="form-control" id="edtCustomeField4"
                                      name="edtCustomeField4" value="{{record.custfield4}}">
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-10"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                              <div class="row no-gutters d-xl-flex flex-column justify-content-xl-start"
                                style="margin: 12px;">
                                <div class="col">
                                  <div class="custom-control custom-switch" style="margin: 4px;"><input
                                      class="custom-control-input" type="checkbox" id="formCheck-2" checked><label
                                      class="custom-control-label" for="formCheck-2">This customer is tax exempt</label>
                                  </div>
                                </div>
                                <div class="col d-xl-flex align-items-xl-end">
                                  <div id="autoUpdate" style="display: none;">
                                    <div
                                      class="form-group d-flex d-sm-flex d-xl-flex flex-column flex-grow-1 align-items-start align-items-sm-start align-items-xl-start"
                                      style="margin: 4px;"><label class="text-nowrap">Tax Code</label>
                                      <select class="form-control" style="width: 260px;" id="sltTaxCode"
                                        name="sltTaxCode">
                                        {{#each item in taxCodeList}}
                                        {{#if equals item record.taxcode }}
                                        <option value="{{record.taxcode}}" selected="">{{record.taxcode}}</option>
                                        {{else}}
                                        <option value="{{item}}">{{item}}</option>
                                        {{/if}}
                                        {{/each}}
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane border rounded-0" role="tabpanel" id="tab-11"
                              style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important; ">
                              <div class="row no-gutters d-xl-flex flex-column justify-content-xl-start"
                                style="margin: 12px;">
                                <div class="col d-xl-flex align-items-xl-start" style="width: 50%;">
                                  <div class="form-group flex-grow-1" style="margin: 4px;padding-right:4px;">
                                    <label>Username or Email</label>
                                    <input type="text" class="form-control" name="primaryAccountantUsername"
                                      id="primaryAccountantUsername">
                                  </div>
                                  <div class="form-group flex-grow-1" style="margin: 4px;">
                                    <label>Password</label>
                                    <div style="width: 100%">
                                      <div style="width: 85%; float: left;">
                                        <input type="password" class="form-control" id="primaryAccountantPassword"
                                          name="primaryAccountantPassword" autocomplete="new-password">
                                      </div>
                                      <div style="width: 15%; float: left;">
                                        <span data-toggle="#primaryAccountantPassword"
                                          class="fa fa-fw fa-eye field-icon toggle-password"
                                          style="color: #00a3d3; margin-top: 10px; margin-left: 4px;"></span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="d-xl-flex justify-content-between align-items-xl-center flex-wrap-wrap"
                        style="margin: 16px 0px 0px 0px;">
                        <button class="btn btn-success btnSave btn-auto-save" type="button"><i class="fa fa-save"
                            style="margin-right: 5px;"></i>Save</button>
                        <div>
                          <button class="btn btn-primary btnMakeSupplierPayment" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Supplier Payment</button>
                          <button class="btn btn-warning btnTask" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Task</button>
                          <button class="btn btn-primary btnEmail" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Email</button>
                          <button class="btn btn-success btnAppointment" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Appointment</button>
                          <button class="btn btn-info btnBill" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Bill</button>
                          <button class="btn btn-warning btnCredit" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Credit</button>
                          <button class="btn btn-primary btnPurchaseOrder" type="button"><i class="fas fa-plus"
                              style="margin-right: 5px;"></i>Purchase Order</button>
                        </div>

                        <div>
                          <a class="btn btn-danger" role="button" data-toggle="modal" href="#deleteSupplierModal"><i
                              class="fas fa-trash-alt" style="margin-right: 5px;"></i> Delete</a>
                          <button class="btn btn-secondary btnBack" type="button"><i class="fa fa-close"
                              style="margin-right: 5px;"></i>Cancel</button>
                        </div>
                      </div>

                      <div class="modal fade" role="dialog" tabindex="-1" id="deleteSupplierModal">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                          <div class="modal-content">
                            <input type="hidden" style="width: 100%; display:none;" id="selectDeleteLineID"
                              name="selectDeleteLineID" readonly>
                            <div class="modal-header">
                              <h4>Delete</h4>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">ï¿½</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <p>Please confirm that you want to delete this Supplier.</p>
                              <button class="btn btn-danger float-right btnDeleteSupplier" id="btnDeleteSupplier"
                                type="button">
                                <i class="fas fa-trash-alt" style="margin-right: 5px;"></i>Delete Supplier
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane border rounded-0 tab-1" role="tabpanel" id="tab-1"
                    style="border-color: #ededed #00a3d3 #00a3d3 #00a3d3 !important;">
                    <div class="row d-xl-flex flex-row justify-content-xl-center">
                      <div class="col float-left flex-grow-1 mb-4" style="margin-bottom: 0px!important;">
                        <div class="btn-group float-left" style="margin: 16px;margin-bottom: 0px;">
                          <button class="btn btn-primary btnRefresh" type="button"
                            style="background-color: #00A3D3; border-color: #00A3D3;"><i class="la la-lightbulb-o"
                              style="background-color: #00A3D3; border-color: #00A3D3;"></i>Refresh</button>
                        </div>
                      </div>
                    <div class="col d-xl-flex justify-content-xl-end align-items-xl-start">
                        {{> export_import_print_display_button tablename="tblSupplierTransactionList"}}
                    </div>
                    </div>
                    <div class="row rowB" style="margin: 16px; margin-top: 0px">
                        <!-- End -->

    <!--                          {{> non_transactional_list tablename="tblSupplierTransactionList"}}-->
                        {{>datatablelist
                                tablename="tblSupplierTransactionList"
                                tableclass="tblSupplierTransactionList"
                                apiName= transactionApiFunction
                                indexeddbname = 'TbillReport'
                                tableheaderrecords = transactionTableheaderRecords
                                exportfilename = 'Supplier Transaction List'
                                istransaction = false
                                apiParams= transactionApiParams
                                datahandler = transactionDatahandler
                                service = transactionService
                                lowercaseDataName='tbillreport'
                                exIndexDBName = 'tbillreport'
                                exdatahandler = transactionExDataHandler
                                searchAPI = transactionSearchAPI
                        }}
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {{/if}}
  </div>

  <div class="modal fade" role="dialog" tabindex="-1" id="referenceLetterModal">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header d-flex align-items-center">
          <h5 class="modal-title" id="chooseLetterLabel">Choose a reference letter</h5>
          <button class="btn btn-primary btnAddLetter" type="button"><i class="la la-lightbulb-o"
              style="padding-right: 5px;"></i>Add a template</button>
        </div>
        <div class="modal-body p-3" style="display: flex; flex-direction: column; align-items: stretch; gap: 20px">
          {{#each correspondence in correspondences}}
          <div>
            <input type="radio" name="refTemp" value="{{correspondence.Ref_Type}}" id="{{correspondence.Ref_Type}}"
              data-subject="{{correspondence.ReferenceTxt}}" data-memo="{{correspondence.MessageAsString}}">
            <label for="{{correspondence.label}}">{{correspondence.Ref_Type}}</label>
          </div>
          {{/each}}
        </div>
        <div class="modal-footer">
          <div class="d-flex align-items-center justify-content-end">
            <button class="btn btn-success float-right btnSaveLetterTemp" id="save-correspondence" type="button"
              style="margin: 12px;"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal"> <i class="fa fa-close"
                style="margin-right: 5px;"></i>Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="addLetterTemplateModal" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addLetterTemplateLabel">Create a Letter Template</h5>
        </div>
        <div class="modal-body p-3" style="display: flex; flex-direction: column; align-items: stretch; gap: 20px">
          <input type="text" class="p-2" style="width: 100%; border-radius: 5px; border: 1px solid #d1d3ed"
            id="edtTemplateLbl" placeholder="Reference Letter Label" />
          <input type="text" class="p-2" style="width: 100%; border-radius: 5px; border: 1px solid #d1d3ed"
            id="edtTemplateSubject" placeholder="Subject" />
          <textarea type="text" class="p-2"
            style="width: 100%; height: 200px; resize: none; border-radius: 5px; border: 1px solid #d1d3ed"
            id="edtTemplateContent" placeholder="Enter Message Here"></textarea>
        </div>
        <div class="modal-footer">
          <div class="d-flex align-items-center justify-content-end">
            <button class="btn btn-success float-right btnSaveLetterTemp" id="save-correspondence" type="button"
              style="margin: 12px;"><i class="fa fa-save" style="margin-right: 5px;"></i>Save</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal"> <i class="fa fa-close"
                style="margin-right: 5px;"></i>Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Start Help Video Modal -->
  <div class="modal fade" role="dialog" tabindex="-1" id="helpModal">
    <div class="modal-dialog" role="document" style="max-width: 670px!important;">
      <div class="modal-content">
        <div class="modal-header">

          <h4 class="title-header">Supplier</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">ï¿½</span></button>
        </div>
        <div class="modal-body">
          <video preload="none" id="myVideo" width="640" height="360" controls="" name="media"
            style="border: solid 5px #999999f0; height: auto; outline: none;">
            <source src="https://erphelpes.com/vs1videos/newsupplier.mp4" type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>

  {{> taskDetailModal}}
  {{> frmappointmentpop}}
  {{> newTaskModal}}


  <div class="modal fade customerListCrmModal" role="dialog" tabindex="-1" id="customerListCrmModal">
    <div class="modal-dialog modal-xl modal-dialog-scrollable customerListModalInner" role="document"
      style="max-width: 90vw;">
      <div class="modal-content customerListContent">
        <div class="modal-header">
          <h4>Contact List</h4><button type="button" class="close checkclose" data-dismiss="modal"
            aria-label="Close"><span aria-hidden="true">Ã</span></button>
        </div>
        <div class="modal-body mainCustomerModalBody" style="padding: 0px; overflow-x: hidden;">
          <input type="hidden" style="width: 100%; display:none;" id="customerSelectLineID" name="customerSelectLineID"
            readonly>
          <div class="row">
            <div class="col-12 contactlistcol">
              {{> contactlistpop}}
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-light checkclose" data-dismiss="modal" type="button">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" role="dialog" tabindex="-1" id="employeeListCRMModal">
    <div class="modal-dialog modal-xl modal-dialog-scrollable customerListModalInner" role="document"
      style="max-width: 90vw;">
      <div class="modal-content customerListContent">
        <div class="modal-header">
          <h4>Employee List</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">Ã</span></button>
        </div>
        <div class="modal-body mainCustomerModalBody appointmentCustomer" style="padding: 0px; overflow-x: hidden;">
          {{> employeelistpop tablename="tblEmployeelist1"}}
        </div>
        <div class="modal-footer">
          <button class="btn btn-light" data-dismiss="modal" type="button">Close</button>
        </div>
      </div>
    </div>
  </div>

  {{> projectListPop}}
  <input type="hidden" id="assignedID" />
  <input type="hidden" id="contactID" />
  <input type="hidden" id="contactType" />

  <!-- End Help Video Modal -->
  <script>
    modalDraggable();
  </script>
</template>
